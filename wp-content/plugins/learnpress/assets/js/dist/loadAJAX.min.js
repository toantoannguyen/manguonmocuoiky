(()=>{"use strict";const e=(e,t={},a={})=>{"function"==typeof a.before&&a.before(),fetch(e,{method:"GET",...t}).then((e=>e.json())).then((e=>{"function"==typeof a.success&&a.success(e)})).catch((e=>{"function"==typeof a.error&&a.error(e)})).finally((()=>{"function"==typeof a.completed&&a.completed()}))},t=(e,t)=>{const a=new URL(e);return Object.keys(t).forEach((e=>{a.searchParams.set(e,t[e])})),a},a={};"undefined"!=typeof lpDataAdmin&&(a.admin={apiAdminNotice:lpDataAdmin.lp_rest_url+"lp/v1/admin/tools/admin-notices",apiAdminOrderStatic:lpDataAdmin.lp_rest_url+"lp/v1/orders/statistic",apiAddons:lpDataAdmin.lp_rest_url+"lp/v1/addon/all",apiAddonAction:lpDataAdmin.lp_rest_url+"lp/v1/addon/action-n",apiAddonsPurchase:lpDataAdmin.lp_rest_url+"lp/v1/addon/info-addons-purchase",apiSearchCourses:lpDataAdmin.lp_rest_url+"lp/v1/admin/tools/search-course",apiSearchUsers:lpDataAdmin.lp_rest_url+"lp/v1/admin/tools/search-user",apiAssignUserCourse:lpDataAdmin.lp_rest_url+"lp/v1/admin/tools/assign-user-course",apiUnAssignUserCourse:lpDataAdmin.lp_rest_url+"lp/v1/admin/tools/unassign-user-course",apiAJAX:lpDataAdmin.lp_rest_url+"lp/v1/load_content_via_ajax/"}),"undefined"!=typeof lpData&&(a.frontend={apiWidgets:lpData.lp_rest_url+"lp/v1/widgets/api",apiCourses:lpData.lp_rest_url+"lp/v1/courses/archive-course",apiAJAX:lpData.lp_rest_url+"lp/v1/load_content_via_ajax/",apiProfileCoverImage:lpData.lp_rest_url+"lp/v1/profile/cover-image"});const n=a,s=n.admin||n.frontend,o=s?.apiAJAX||"";let r={};"undefined"!=typeof lpDataAdmin?r=lpDataAdmin:"undefined"!=typeof lpData&&(r=lpData);var l;window.lpAJAXG=(()=>{const a=".lp-target",n=(()=>{let e=window.location.href;return e.includes("?")&&(e=e.split("?")[0]),e})();return{autoLoadAPIs:()=>{console.log("autoLoadAPIs")},fetchAPI:(a,n,s)=>{const o={headers:{}};0!==parseInt(r.user_id)&&(o.headers["X-WP-Nonce"]=r.nonce),void 0!==n.args.method_request?o.method=n.args.method_request:o.method="POST","POST"===o.method?(o.body=JSON.stringify(n),o.headers["Content-Type"]="application/json"):(n.args=JSON.stringify(n.args),n.callback=JSON.stringify(n.callback),a=t(a,n)),e(a,o,s)},fetchAJAX:(a,n,s="")=>{s=s||r.lpAjaxUrl,a.args.id_url&&(s=t(s,{id_url:a.args.id_url}));const o=new FormData;o.append("nonce",r.nonce),o.append("lp-load-ajax","load_content_via_ajax"),o.append("data",JSON.stringify(a));const l={method:"POST",headers:{},body:o};0!==parseInt(r.user_id)&&(l.headers["X-WP-Nonce"]=r.nonce),e(s,l,n)},getElements:()=>{const e=document.querySelectorAll(".lp-load-ajax-element:not(.loaded)");e.length&&e.forEach((e=>{e.classList.add("loaded");let n=o;r.urlParams.hasOwnProperty("lang")&&(n=t(n,{lang:r.urlParams.lang}));const s=e.querySelector(`${a}`);if(!s)return;const l={...JSON.parse(s.dataset.send)},d=e.querySelector(".loading-first"),i={success:e=>{const{status:t,message:a,data:n}=e;"success"===t?s.innerHTML=n.content:"error"===t&&(s.innerHTML=a)},error:e=>{console.log(e)},completed:()=>{d&&d.remove()}};window.lpAJAXG.fetchAJAX(l,i)}))},clickNumberPage:(e,s)=>{const o=s.closest(".page-numbers:not(.disabled)");if(!o)return;const r=o.closest(`${a}`);if(!r)return;const l={...JSON.parse(r.dataset.send)};l.args.hasOwnProperty("paged")||(l.args.paged=1),e.preventDefault(),o.classList.contains("prev")?l.args.paged--:o.classList.contains("next")?l.args.paged++:l.args.paged=o.textContent,r.dataset.send=JSON.stringify(l),lpData.urlParams.paged=l.args.paged,window.history.pushState({},"",t(n,lpData.urlParams));const d=r.closest(`div:not(${a})`).querySelector(".lp-loading-change");d&&(d.style.display="block");const i=r.getBoundingClientRect().top+window.scrollY-100;window.scrollTo({top:i});const c={success:e=>{const{status:t,message:a,data:n}=e;r.innerHTML=n.content||""},error:e=>{console.log(e)},completed:()=>{d&&(d.style.display="none")}};window.lpAJAXG.fetchAJAX(l,c)}}})(),window.lpAJAXG.getElements(),document.addEventListener("click",(function(e){const t=e.target;window.lpAJAXG.clickNumberPage(e,t)})),l=e=>{e.classList.contains("lp-load-ajax-element")&&window.lpAJAXG.getElements()},new MutationObserver((function(e){e.forEach((function(e){e.addedNodes&&e.addedNodes.forEach((function(e){1===e.nodeType&&l(e)}))}))})).observe(document,{childList:!0,subtree:!0}),((e,t)=>{const a=document.querySelector(e);if(a)return void t();const n=new MutationObserver(((a,n)=>{const s=document.querySelector(e);s&&(n.disconnect(),t())}));n.observe(document.documentElement,{childList:!0,subtree:!0})})(".lp-load-ajax-element",(e=>{window.lpAJAXG.getElements()})),document.addEventListener("readystatechange",(e=>{window.lpAJAXG.getElements()})),document.addEventListener("DOMContentLoaded",(()=>{window.lpAJAXG.getElements()}))})();